<style>
    .red{
        color:red;
    }
</style>

## 3. 数据预处理

### 3.1 数据清洗

##### 3.1.1 处理颜色缺失值
对于表单1的数据，我们首先找出缺失值，缺失值数据如图1所示。
![](../graph/dataprocessing/missingdata.png)
可以观察到，表单1的数据仅存在颜色属性的缺失，缺失数据量为4，本文中将其作为一种新的颜色特征进行分析，故对此数据保留。

##### 3.1.2 处理含量空白值
对于表单2的数据，由于空白处表示未检测到相关化学成分，故对空白处使用“补0”操作。

##### 3.1.3 处理异常值
对于表单2的数据，针对每个文物样品进行成分比例数据的加和，求解出15，17号文物的成分比例累加和低于85%，属于异常数据，进行剔除操作。

##### 3.1.4 处理奇异值
对于表单2的数据，部分数据存在文物编号为“未风化点”，而表面“风化”，对于此类数据进行分类与标记，在数据处理过程中需考虑其“未风化”的特性。
    
### 3.2 数据规约

##### 3.2.1 归一化处理
  由于表单2中不同的化学成分含量相差较大，故考虑首先对各列化学成分数据进行标准化处理，使处理后的数据更加能体现该化学成分含量的相对大小，使数据之间更加直观且具有可比性。此处使用了最小——最大规范化方法(minmax-scale)，方法公式如下：
  $$ x_{i} = \frac{x-x_{min}}{x_{max}-x_{min}}$$

##### 3.2.2 字符数据数值化
  由于表单中数据多为离散数据，且问题多为分类问题，故考虑将“字符变量”转换为“0-1变量”。本文做出了如下定义
  + 风化为1，无风化为0；
  + 铅钡玻璃类型是1，高钾玻璃类型是0

### 3.3 数据侧写

由于本题为经典的数据分析问题，且表单2数据较为重要，故先对表单2的数据进行总体刻画有利于把握整体问题。
+ 对化学成分含量的观测
  如图2，为两种玻璃类型的化学成分含量组成的数据展示。

  <p class=red>此处建议附3张并排的饼图，一张高钾成分组成，一张铅钡成分组成，一张总的成分组成，数据来源见“数据测写”中的“组成含量表”，记得加title</p>

  由图可得，$SiO_{2}$的化学成分含量最多，高钾玻璃的$K_{2}O$、$CaO$含量较铅钡玻璃类多，铅钡玻璃的$PbO$、$BaO$含量较高钾玻璃类多，符合化学常识，具体问题分析时应该考虑不同成分含量所产生的影响。

+ 对有无风化的观测
  如图3，为两种玻璃类型的有无表面风化的数据展示。

  <p class=red>此处建议附2张并排的柱状图，横坐标为有无风化，纵坐标为风化个数，一张高钾，一张铅钡，数据来源见“数据测写”中的“有无风化表”，记得加title</p>

  由图可得，铅钡玻璃的风化概率更高，这提示我们风化概率可能与玻璃类型有较大关系。